若用生成树判断会TLE，不如用朴素的BFS来判断。

更好的算法为SPFA，dist[i]表示1~i中路的最长值。